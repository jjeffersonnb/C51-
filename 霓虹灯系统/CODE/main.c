#include<reg51.h>
#define uchar unsigned char

uchar i;   //i为状态变化值
uchar code table[]={0x01,0x03,0x07,0x0F,0x1F,0x3F,0x7F,0xFF,0xFE,0xFC,
0xF8,0xF0,0xE0,0xC0,0x80,0x00,0xFF,0x00,0xFE,
0xFD,0xFB,0xF7,0xEF,0xDF,0xBF,0x7F,0xBF,0xDF,
0xEF,0xF7,0xFB,0xFD,0xFE,0x00,0xFF,0x00};  //共36种状态

void main()
{
  	i=0;
	P1=table[i];
 	TMOD=0X10;				  //T1工作方式为方式1
 	TH1=(65536-50000)/256;	  //定时50ms
	TL1=(65536-50000)%256;
 	EA=1;
 	ET1=1;
 	TR1=1;
 	while(1);
}
void T1_timer() interrupt 3
{
	static uchar T_Count=0;
 	TH1=(65536-50000)/256;	  //定时50ms
	TL1=(65536-50000)%256; 
	if(++T_Count==5)
	{
		T_Count=0;
		if(++i==36)i=0;
		P1=table[i];
	}
}

